"use strict";(self.webpackChunkwelte_ads=self.webpackChunkwelte_ads||[]).push([[836],{1825:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=a(8075),o=a(4810),l=a(7834),r=a(4073),s=a(6540),c=a(3230),i=a(4362),g=a(7437);const d=t=>{let{markers:e}=t;const a=(0,s.useRef)(null);return(0,s.useEffect)(()=>{if(!a.current)return;a.current.innerHTML="";const t=c.Ltv(a.current),n=+t.attr("width"),o=+t.attr("height"),l=c.bAh().center([0,20]).scale(99).translate([n/2,o/2]);(async()=>{const a=await fetch("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson"),n=await a.json(),r=c.Xxv(e,t=>t.adCount),s=c.Bv9().domain(r).range([1,50]);t.append("g").selectAll("path").data(n.features).join("path").attr("fill","#b8b8b8").attr("d",c.zFW().projection(l)).style("stroke","none").style("opacity",.3),t.selectAll("circles").data(e.sort((t,e)=>e.adCount-t.adCount)).join("circle").attr("cx",t=>l([t.coordinate.long,t.coordinate.lat])[0]).attr("cy",t=>l([t.coordinate.long,t.coordinate.lat])[1]).attr("r",t=>s(+t.adCount)).style("fill",t=>(0,i.l)(t.companyName)).attr("fill-opacity",.3).attr("stroke","black").attr("stroke-width",.5);const g=[5,10,20];t.selectAll("legend").data(g).join("circle").attr("cx",40).attr("cy",t=>o-s(t)).attr("r",t=>s(t)).style("fill","none").attr("stroke","black"),t.selectAll("legend").data(g).join("line").attr("x1",t=>40+s(t)).attr("x2",90).attr("y1",t=>o-s(t)).attr("y2",t=>o-s(t)).attr("stroke","black").style("stroke-dasharray","2,2"),t.selectAll("legend").data(g).join("text").attr("x",90).attr("y",t=>o-s(t)).text(t=>t).style("font-size",10).attr("alignment-baseline","middle")})()},[e]),(0,g.Y)(s.Fragment,null,(0,g.Y)("svg",{ref:a,width:900,height:500}))},w={"https://www.geonames.org/5128581":{lat:40.71427,long:-74.00597},"https://www.geonames.org/2643743":{lat:51.50853,long:-.12574},"https://www.geonames.org/2879139":{lat:51.33962,long:12.37129},"https://www.geonames.org/2867714":{lat:48.13743,long:11.57549},"https://www.geonames.org/5368361":{lat:34.05223,long:-118.24368},"https://www.geonames.org/4930956":{lat:42.35843,long:-71.05977},"https://www.geonames.org/5074472":{lat:41.25626,long:-95.94043},"https://www.geonames.org/4140963":{lat:38.89511,long:-77.03637},"https://www.geonames.org/2950159":{lat:52.52437,long:13.41053},"https://www.geonames.org/4990729":{lat:42.33143,long:-83.04575}};var u=()=>{const t=(0,o.useStaticQuery)("3847969409").allMetadata.nodes.map(t=>t.company);console.log("companies=",t);const e=t.reduce((t,e)=>{const a=w[e.link]||{lat:0,long:0},n=t.find(t=>t.companyName===e.name&&t.coordinate.lat===a.lat&&t.coordinate.long===a.long);return n?(n.adCount+=1,t):(t.push({coordinate:a,companyName:e.name,adCount:1}),t)},[]);return console.log("markers=",e),(0,g.Y)(n.A,{location:"Companies",editionPage:!1},(0,g.Y)(l.A,{component:"main",maxWidth:"md"},(0,g.Y)("h2",null,"Companies"),(0,g.Y)(r.A,null,"Different companies advertised for the Welte-Mignon all over the world."),(0,g.Y)(d,{markers:e})))}},4362:function(t,e,a){a.d(e,{l:function(){return n}});const n=t=>{let e=0;t.split("").forEach(t=>{e=t.charCodeAt(0)+((e<<5)-e)});let a="#";for(let n=0;n<3;n++){a+=(e>>8*n&255).toString(16).padStart(2,"0")}return a}}}]);
//# sourceMappingURL=component---src-pages-companies-tsx-30cfdf5f3d428c061875.js.map